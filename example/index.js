var w=class{weak=new WeakMap;map=new Map;set=(t,n)=>{typeof t!="object"?this.map.set(t,n):this.weak.set(t,n)};get=t=>typeof t!="object"?this.map.get(t):this.weak.get(t);has=t=>{typeof t!="object"?this.map.has(t):this.weak.has(t)};delete=t=>{if(typeof t!="object")return this.map.delete(t);this.weak.delete(t)}};function R(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}var W={autofocus:!0,role:!0,viewBox:!0,disabled:!0,class:!0},N={};function _(e,t,n){if(Array.isArray(n)){e[t](...n);return}if(typeof n=="object"){Object.assign(e[t],n);return}if(e.__lastAttr||(e.__lastAttr={}),e.__lastAttr[t]!==n){if(e.__lastAttr[t]=n,e.setAttribute&&(N[t]||W[t]||/-/.test(t)||R(e))){N[t]=!0,n==null?e.removeAttribute(t):e.setAttribute(t,n);return}e[t]=n}}function m(e,t,n,s){if(e.setAttribute("data-x-subscrib",""),e.__x_subscrib||(e.__x_subscrib={}),e.__x_subscrib[t]=n,!s){if(/^(__update)/.test(t)){n(e,t);return}Promise.resolve(n(e,t)).then(o=>{_(e,t,o)})}}var p=new Set,j=()=>{p.forEach(e=>{e.__x_subscrib&&Object.keys(e.__x_subscrib).forEach(n=>{let s=e.__x_subscrib[n];if(/^(__update)/.test(n)){s(e,n);return}Promise.resolve(s(e,n)).then(o=>{_(e,n,o)})})}),p.clear()};function x(e){e.hasAttribute("data-x-subscrib")&&p.add(e),e.querySelectorAll("[data-x-subscrib]").forEach(n=>{p.add(n)})}var T=new w,g,v=0;function K(){return v<3e3?17:v/3e3*17}function F(e=document.body,t={}){if(e!==null){let n=T.get(e)||0;n&&cancelAnimationFrame(n);let s=requestAnimationFrame(()=>{T.delete(e),typeof e=="string"?document.body.querySelectorAll(e).forEach(x):Array.isArray(e)?e.forEach(x):x(e),j()});T.set(e,s)}if(!t.ignoreSupplement&&e!==document.body){if(g)return;g=setTimeout(()=>{g=null,x(document.body),v=p.size,j()},K())}}var z={childList:!0,subtree:!0},b=new WeakMap,h=new WeakMap,E=new WeakMap;function y(e,t){if(b.has(e)){b.get(e).push(t);return}b.set(e,[t]);let n=new MutationObserver(s=>{if(document.contains(e)){n.disconnect();let o=b.get(e);o&&o.forEach(r=>r(e)),b.delete(e)}});n.observe(document,z)}function A(e,t){if(h.has(e)){h.get(e).push(t);return}h.set(e,[t]),y(e,()=>{let n=new MutationObserver(()=>{if(!document.contains(e)){n.disconnect();let s=h.get(e);s&&s.forEach(o=>o(e)),h.delete(e)}});n.observe(document,z)})}var C=(e,t,{minHeight:n="50px",root:s}={})=>{if(E.has(e)){E.get(e).push(t);return}E.set(e,[t]),y(e,()=>{if(e.style.minHeight||(e.style.minHeight=n),!e.getAttribute("data-lazy")){e.setAttribute("data-lazy","1");let o=new IntersectionObserver(r=>{r.forEach(i=>{if(e.setAttribute("data-lazy","2"),i.isIntersecting){o.disconnect();let a=E.get(e);a&&a.forEach(l=>l(i)),E.delete(e)}})},{root:s,rootMargin:window.innerHeight/2+"px"});o.observe(e),A(e,()=>{o.disconnect()})}})};function H(e){let t;return typeof e=="string"?t=document.createElement(e):t=e,t}function u(e,t){let n=H(e);return t&&Object.keys(t).forEach(o=>{let r=t[o];if(n.setAttribute){if(typeof r=="function"&&!/^on/.test(o)){if(o==="ref"){r(n);return}m(n,o,r);return}if(o==="onMount"){y(n,r);return}if(o==="onCleanup"){A(n,r);return}if(o==="onEntry"){C(n,r);return}}_(n,o,r)}),n}window.JSX_ELE=u;function S(e,t){let{each:n,render:s,...o}=t,r=u(e,o);if(typeof n=="function")m(r,"__update_for",i=>{let a=i.__lastForRender,l=n();if(i.__lastForRender=l,!a){let f=[];for(let c=0;c<l;c++)f.push(s(c,n));i.append(...f);return}if(l>a){let f=[];for(let c=a;c<l;c++)f.push(s(c,n));i.append(...f)}else{let f=[];for(let c=l;c<a;c++){let M=i.childNodes.item(c);M&&f.push(M)}f.forEach(c=>c.remove())}});else{let i=[];for(let a=0;a<n;a++)i.push(s(a,()=>n));r.append(...i)}return r}function O(){let e=document.createElement("span");return e.style.all="none",e}function L({when:e,render:t}){if(!e)return O();let n=O();if(typeof e=="function"){let s=o=>{m(o,"__update_show",r=>{Promise.resolve(e()).then(i=>{if(i===r.__lastShow)return;let a=i?t():O();s(a),r.replaceWith(a),r.__lastShow=i})},!0)};s(n)}return n}var I=u("style",{textContent:`
.contains {
	background: #f3f3f3;
	font-size:40px;
}
`});document.head.append(I);var d={value0:"500"},P=u("div",{className:"contains",style:{cssText:"width:100%; height:100%;"},append:["Hello",u("span",{innerText:"world",style:{cssText:"color:red;"},onclick:()=>{alert("hello")}}),L({when:()=>Date.now()%3!==0,render:()=>u("span",{textContent:"show temp"})}),u("div",{textContent:"hi"}),S("div",{each:()=>{let e=Number(d.value0)/100;return e>25e3?25e3:e},render:(e,t)=>{console.log("__debug__i",e);let n=()=>e%(t()/5);return u("input",{value:()=>d["value"+n()],["data-i"]:e,oninput:s=>{let o=s.currentTarget.value;d["value"+e]=o,console.log("11 state",e,d["value"+e]),F()}})}}),S("div",{each:()=>{let e=Number(d.value0);return e>25e3?25e3:e},render:(e,t)=>{let n=()=>e%(t()/500);return u("div",{textContent:()=>d["value"+n()]||"empty",["data-i"]:e})}})]});u(P,{"data-base":"right"});document.body.append(P);
//# sourceMappingURL=index.js.map
